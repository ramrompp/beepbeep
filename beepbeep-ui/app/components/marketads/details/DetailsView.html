<div message-directive></div>
<div class="ui three column relaxed fitted stackable grid">
    <div class="row">
        <div class="sixteen wide column">
            <div class="ui teal segment">
                <a id="deleteLink" class="ui red right ribbon label" onclick="$('.ui.modal').modal('show');"><i class="delete icon"></i> Delete</a>
                <h2>{{marketad.title}}</h2>
            </div>
        </div>
    </div>
    <div class="row">
            <div class="eight wide column">
                <div class="ui teal vertical left floated segment">
                    <img class="ui medium rounded image" src="{{marketad.imageUrl}}" onerror="if (this.src != 'assets/img/placeholder-image.png') this.src = 'assets/img/placeholder-image.png';">
                </div>
            </div>
            <div class="eight wide column">
                <div class="ui teal segment">
                    <div class="card">
                        <div class="content">
                            <div class="header">Details</div>
                            <div class="description">
                                <div class="ui divided list">
                                    <div class="item">
                                        <i class="eur icon"></i>
                                        <div class="content">
                                            <div id="price" class="ui tag label">{{marketad.priceCents | convertPriceFromCents}}</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="ui teal segment">
                    <div class="card">
                        <div class="content">
                            <div class="header">Contact</div>
                            <div class="description">
                                <div class="ui divided list">
                                    <div class="item">
                                        <i class="mail outline icon"></i>
                                        <div id="email" class="content">
                                            {{marketad.email}}
                                        </div>
                                    </div>
                                    <div class="item">
                                        <i class="call icon"></i>
                                        <div id="phone" class="content">
                                            {{marketad.phone}}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
    </div>
    <div class="row">
        <div class="sixteen wide column">
                <div id="description" class="ui teal segment">
                    <p ng-bind-html="marketad.description | formatDescription">
                    </p>
                </div>
        </div>
    </div>
</div>

<div id="confirmModal" class="ui basic modal" ng-controller="deleteController">
    <i class="close icon"></i>
    <div class="header">
        Confirm delete of market ad
    </div>
    <div class="content">
        <div class="image">
            <i class="delete icon"></i>
        </div>
        <div class="description">
            Do you really want to delete {{marketad.title}}?
        </div>
    </div>
    <div class="actions">
        <div class="two fluid ui inverted buttons">
            <div class="ui red basic inverted button">
                <i class="remove icon"></i>
                No
            </div>
            <div id="deleteConfirmation"  class="ui green basic inverted button" ng-click="deletead(marketad.id)">
                <i class="checkmark icon"></i>
                Yes
            </div>
        </div>
    </div>
</div>